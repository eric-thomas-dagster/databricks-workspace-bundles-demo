# Databricks Asset Bundle Configuration - US Regional ETL
# Deployed to US workspace from shared ETL pattern

bundle:
  name: us_data_etl

targets:
  prod:
    mode: production
    workspace:
      host: ${DATABRICKS_US_HOST}

  dev:
    mode: development
    workspace:
      host: ${DATABRICKS_US_HOST}

# US Regional ETL extraction jobs
resources:
  jobs:
    us_regional_data_extract:
      name: "US Regional Data Extract"

      tasks:
        - task_key: extract_customers
          notebook_task:
            notebook_path: /Workspace/etl/extract_customers
          new_cluster:
            spark_version: "13.3.x-scala2.12"
            node_type_id: "i3.xlarge"
            num_workers: 2

        - task_key: extract_sales
          notebook_task:
            notebook_path: /Workspace/etl/extract_sales
          new_cluster:
            spark_version: "13.3.x-scala2.12"
            node_type_id: "i3.xlarge"
            num_workers: 2

        - task_key: extract_products
          notebook_task:
            notebook_path: /Workspace/etl/extract_products
          new_cluster:
            spark_version: "13.3.x-scala2.12"
            node_type_id: "i3.xlarge"
            num_workers: 2

        - task_key: extract_financials
          notebook_task:
            notebook_path: /Workspace/etl/extract_financials
          new_cluster:
            spark_version: "13.3.x-scala2.12"
            node_type_id: "i3.xlarge"
            num_workers: 2
